# Spring框架相关配置(这都不会我没法了)
spring:
  # 服务器配置
  server:
    port: 8080  # 服务器端口

  # 配置文件环境设置
  profiles:
    active: dev   # 指定当前环境为开发环境

  # 应用程序基本信息
  application:
    name: Aftourism-server  # 应用名称

  # 数据库连接配置
  datasource:
    url: jdbc:mysql://localhost:3306/aftourism_server?useSSL=false&serverTimezone=UTC&characterEncoding=utf8  # 数据库连接地址
    username: root  # 数据库用户名
    password: 123456  # 数据库密码
    driver-class-name: com.mysql.cj.jdbc.Driver  # 数据库驱动类

  #文件存储大小配置
  servlet:
    multipart:
      max-file-size: 10MB  # 单个文件最大大小
      max-request-size: 10MB  # 请求最大大小

  # Redis配置
  data:
    redis:
      host: localhost  # Redis服务器地址
      port: 6379  # Redis端口号
      password:    # Redis密码（空表示无密码）
      # Redis连接池配置
      lettuce:
        pool:
          max-active: 8  # 连接池最大连接数
          max-idle: 8  # 连接池最大空闲连接数
          min-idle: 0  # 连接池最小空闲连接数
          max-wait: 1000  # 连接池最大等待时间(毫秒)

# MyBatis框架配置
mybatis:
  mapper-locations: classpath:mapper/*.xml  # Mapper XML文件位置
  type-aliases-package: aftnos.aftourismserver  # 实体类别名包路径
  # MyBatis配置选项
  configuration:
    map-underscore-to-camel-case: true  # 开启下划线到驼峰命名的自动转换

# 日志配置
logging:
  level:
    org.springframework.web.filter.CommonsRequestLoggingFilter: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web.servlet.resource: DEBUG
    aftnos.aftourismserver.common.exception: DEBUG

# 安全相关配置
security:
  jwt:
    # JWT 加密密钥
    secret: "Aftnos-server-key-test-Aftnos-server-key-test"
    # Token 过期时间
    expiration: 24h  # JWT令牌过期时间(24小时)
    # 刷新令牌过期时间，默认7天
    refresh-expiration: 7d

# 文件存储配置
file:
  upload-dir: ./uploads  # 文件上传目录
  base-url: http://localhost:8080/files  # 文件访问基础URL
  access-pattern: /files/**  # 文件访问路径模式
  storage-type: local  # 存储类型(本地存储)
  allowed-types:  # 允许上传的文件类型列表
    - jpg
    - jpeg
    - png
    - gif
    - pdf

# 监控配置
monitor:
  # Redis监控配置
  redis:
    benchmark-enabled: true  # 是否启用Redis基准测试
    collect-interval: 60000  # Redis信息收集间隔(毫秒)
